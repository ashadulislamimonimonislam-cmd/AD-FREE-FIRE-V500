
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AD FREE FIRE - SECURE ACCESS</title>
    <style>
        @keyframes bgCycle {
            0% { background-color: #050a0f; }
            50% { background-color: #0d1a14; }
            100% { background-color: #050a0f; }
        }
        body { margin: 0; min-height: 100vh; display: flex; justify-content: center; align-items: center; font-family: 'Segoe UI', sans-serif; animation: bgCycle 10s infinite linear; color: #ffffff; }
        .container { background: rgba(13, 17, 23, 0.95); border: 1px solid #30363d; padding: 25px; border-radius: 20px; width: 350px; text-align: center; box-shadow: 0 10px 50px rgba(0,0,0,1); }
        .btn { background: #238636; color: #ffffff; border: none; padding: 14px; font-weight: bold; cursor: pointer; border-radius: 10px; width: 100%; margin-top: 20px; text-transform: uppercase; text-decoration: none; display: inline-block; }
        #keyDisplay { padding: 15px; font-size: 22px; color: #58a6ff; background: #161b22; border-radius: 10px; margin: 15px 0; border: 1px solid #30363d; font-weight: bold; letter-spacing: 2px; }
        #landingPage, #generatorPage { display: none; }
    </style>
</head>
<body>

    <div id="landingPage" class="container">
        <h2>AD FREE FIRE</h2>
        <p style="font-size: 13px; color: #8b949e;">Click below to verify and get your key</p>
        <a id="earningBtn" class="btn" href="#" target="_blank">GET VIP KEY NOW</a>
    </div>

    <div id="generatorPage" class="container">
        <h2>ACCESS GRANTED</h2>
        <div id="keyDisplay">READY TO UNLOCK</div>
        <button id="genBtn" class="btn" onclick="generateKey()">GET PASSWORD</button>
        <button id="copyBtn" class="btn" style="display:none; background:#1f6feb;" onclick="copyKey()">COPY PASSWORD</button>
        <p style="font-size:11px; color:#ff4d4d; margin-top:15px;">একবার কপি করলে আবার পেতে লিঙ্ক পার হতে হবে।</p>
    </div>

<script>
    const EARNING_LINK = "https://linksgo.in/diSlFI";
    const REQUIRED_DOMAIN = "linksgo.in";
    
    // Airtable Config
    const AIRTABLE_TOKEN = "patn7xmqXpUwZql5B.0c757efdff357a4cf8eee80f5e2e28a0ad16e2e84e6d6493ab62a6da54131eae";
    const BASE_ID = "appbcvyIYXVAZzmom";
    const TABLE_ID = "tbl1pjDWPEnDOeym5";

    window.onload = function() {
        document.getElementById('earningBtn').href = EARNING_LINK;
        
        // চেক করছে ইউজার লিঙ্ক থেকে এসেছে কিনা
        const isFromEarning = document.referrer.includes(REQUIRED_DOMAIN);
        const isUsed = sessionStorage.getItem('token_used');

        if (isFromEarning && isUsed !== 'true') {
            document.getElementById('generatorPage').style.display = 'block';
        } else {
            document.getElementById('landingPage').style.display = 'block';
        }
    };

    async function generateKey() {
        const genBtn = document.getElementById('genBtn');
        genBtn.innerText = "Please Wait...";
        genBtn.disabled = true;
        
        // এখানে কোনো রেনডম লজিক নেই, সরাসরি ফিক্সড ভ্যালু
        const fixedPassword = "AD-FREE_BANGLADESH HACKER TEAM"; 

        try {
            // Airtable-এ সেভ করা
            await fetch(`https://api.airtable.com/v0/${BASE_ID}/${TABLE_ID}`, {
                method: 'POST',
                headers: { 
                    'Authorization': `Bearer ${AIRTABLE_TOKEN}`, 
                    'Content-Type': 'application/json' 
                },
                body: JSON.stringify({ "fields": { "Password": fixedPassword } })
            });
        } catch (e) {
            console.log("Sync skipped or failed.");
        }

        // আউটপুট দেখানো
        document.getElementById('keyDisplay').innerText = fixedPassword;
        genBtn.style.display = 'none';
        document.getElementById('copyBtn').style.display = 'block';
        sessionStorage.setItem('token_used', 'true');
    }

    function copyKey() {
        const pass = document.getElementById('keyDisplay').innerText;
        navigator.clipboard.writeText(pass);
        alert("Password Copied: " + pass);
        window.location.href = window.location.pathname; // রিফ্রেশ করে ল্যান্ডিং পেজে ফেরত পাঠানো
    }
</script>
</body>
</html>
